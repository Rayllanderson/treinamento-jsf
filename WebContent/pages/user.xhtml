<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:h="http://java.sun.com/jsf/html"
 xmlns:f="http://java.sun.com/jsf/core"
 xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Cadastro de usu치rio</title>
    
    <style>
        .div-input {
            margin: 10px;
        }
        
        .btn{
	        font-size: 14px;
	        padding: 4px 8px;
	        text-decoration: none;
			text-align: center;
			cursor: pointer;
			background-image: none;
			border: 1px solid transparent;
			line-height: 1.42857143;
		  	border-radius: 4px;
        }

		.primary{
			color: #fff;
			background-color: #337ab7;
		    border-color: #2e6da4;
		}
		
		.success{
		    color: #fff;
		    background-color: #5cb85c;
    		border-color: #4cae4c;
		}
		
		.danger{
			color: #fff;
		    background-color: #d9534f;
		    border-color: #d43f3a;
		}
		
    </style>
</h:head>

<h:body>

        <h2 style="text-align: center">Ol치, JSF 
        	<h:graphicImage 
        		value="https://pbs.twimg.com/profile_images/1352023473/jsf-logo-no-text_400x400.png"
        		width="35" height="35"/>
        </h2>
         <a href="pessoas.xhtml">pessoas</a>
        <hr></hr>
        
        <h:form id="formUser">   
		<p:panelGrid columns="2">
		<f:facet name="header">
			<h:outputText value="Cadastro em JSF"/>
		</f:facet>
		
	        <div class="div-input">
	            Nome:
	            <p:inputText id="nome" value="#{UserBean.user.nome}"/>
	        </div>
	
			<div class="div-input">
					Login:
		            <span class="ui-inputgroup-addon"><i class="pi pi-user"></i></span>
		       	  	<p:inputText id="login" value="#{UserBean.user.login}"/>  
			</div>
				        
	         <div class="div-input">
	            Senha:
	            <span class="ui-inputgroup-addon"> <i class="pi pi-lock"></i> </span>
	            <p:password id="password" value="#{UserBean.user.password}"/>
	        </div>
	        
	        <div class="div-input">
	        	Perfil:
	        	<p:selectOneMenu id="perfil" value="#{UserBean.user.perfil}"> <!-- esse atributo recebr치 um dos valores abaixo -->
	        		<f:selectItem itemLabel="administrador" itemValue="Administrador"/>
	        		<f:selectItem itemLabel="secretario" itemValue="Secret치rio"/>
	        		<f:selectItem itemLabel="recepcionista" itemValue="Recepcionista"/>
	        	</p:selectOneMenu>
	        </div>
	        
	        <h:panelGroup>
	        	 <h:commandButton class="btn primary" value="Novo " action="#{UserBean.novo}" />
	             <h:commandButton class="btn danger" value="Remover" action="#{UserBean.remove}" style="margin-left: 2px; margin-right: 2px;" />
	             <h:commandButton class="btn success" value="Salvar " action="#{UserBean.save}" />
	        </h:panelGroup>
	        
	     </p:panelGrid>

        
        <hr></hr>
        
        <div>
        	<p:dataTable value="#{UserBean.users}" var="user">
        		<p:column headerText="Id">
        			<h:outputText value="#{user.id}"/>
        		</p:column>
        		
        		<p:column headerText="Nome">
        			<h:outputText value="#{user.nome}"/>
        		</p:column>
        		        		
        		<p:column headerText="Login">
        			<h:outputText value="#{user.login}"/>
        		</p:column>
        		
        		<p:column headerText="Perfil">
        			<h:outputText value="#{user.perfil}"/>
        		</p:column>

        		<p:column headerText="Editar">
        			 <h:commandLink style="color:#fff">
        			 	<f:setPropertyActionListener value="#{user}" target="#{UserBean.user}"/> <!-- passando user para user do bean -->
        			 	<h:graphicImage value="https://upload.wikimedia.org/wikipedia/en/thumb/8/8a/OOjs_UI_icon_edit-ltr-progressive.svg/1024px-OOjs_UI_icon_edit-ltr-progressive.svg.png" width="32" height="32"/>
        			 </h:commandLink>
        		</p:column>
        		
        		<p:column headerText="Remover">
        			 <h:commandLink style="color:#fff"  action="#{UserBean.remove}">
        			 	<f:setPropertyActionListener value="#{user}" target="#{UserBean.user}"/> 
        			 	<h:graphicImage value="https://img.icons8.com/cotton/2x/delete-sign--v2.png" width="32" height="32"/>
        			 </h:commandLink>
        		</p:column>
        	
        	</p:dataTable>
        </div>
        
    </h:form>
</h:body>

</html>